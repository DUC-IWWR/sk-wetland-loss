---
title: "Modelling Wetland Loss in Saskatchewan"
format: html
---

## Introduction

The purpose of this report is to demonstrate the modelled loss of wetlands in Saskatchewan,
based on GIS data collected by the CWI. This will then be compared to drainage data collected by WSA.

## Data Exploration

Let us first explore the data. Here we will focus on the data generated by the CWI and stratified by 
virtual basin. Let's take a look at some histograms and potential relationships to investigate.

### Distribution of Drain Lengths and Numbers of Drains
```{r}
#| echo: false
targets::tar_load(combined_drains_plot)
targets::tar_load(drains_vb_data)
targets::tar_load(cwi_impact_vb_data)
```
Let's first take a look at the distribution of drain lengths and the distribution of the number of drains. 
Note here that I am only looking at virtual basins where the drain lengths are greater than 0, or the 
number of drains are greater than 0. That is, we aren't considering undrained virtual basins. This 
also gets rid of incomplete data.

We will also look to see if there is a relationship between number of drains and the length of drains 
per virtual basin. We would likely expect to see a positive relationship (i.e., more drains implies 
more length of drain per virtual basin).
 
```{r}
#| echo: false
targets::tar_load(combined_drains_plot)
print(combined_drains_plot)
```

We can see a fairly clear relationship between the number of drains and the length of drains per virtual basin. 
In fact, we find a correlation of `r cor(drains_vb_data$Drains_km, drains_vb_data$Drains_count)`. With this in 
mind, we can probabl be confident that we can use either of these two variables in a model as they are effectively 
telling the same story.

### Distribution of Drained Area by CWI Class

Let us now take a look at the distribution of drained area by CWI class. For this, I will present the distribution 
of percent drained virtual basin for classes 1 and 5. This is because the virtual basins are of different sizes, 
and so we should expect to see more drainage in larger basins. So, taking the percent drained per basin 
standardizes the drainage.

Here are the percent drainage for CWI classes 1 and 5:
```{r}
targets::tar_load(combined_class_drainage_plot)
print(combined_class_drainage_plot)
```


You can add options to executable code like this 

```{r}
#| echo: false
2 * 2
```

The `echo: false` option disables the printing of code (only output is displayed).
